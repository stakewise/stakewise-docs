---
title: 2. Prerequisites
sidebar_position: 2
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import Admonition from '@theme/Admonition';
import useBaseUrl from '@docusaurus/useBaseUrl';

# Prerequisites

Before installing the Operator Service, ensure your node infrastructure meets the technical requirements below for reliable operation.

## Execution Client

Your execution node must be fully synced and running. Any client that supports the [ETH Execution API specification â†—](https://ethereum.github.io/execution-apis/api-documentation/) can be used:

- **[Nethermind â†—](https://launchpad.ethereum.org/en/nethermind)** â€” (Ethereum, Gnosis)
- **[Besu â†—](https://launchpad.ethereum.org/en/besu)** â€” (Ethereum)
- **[Erigon â†—](https://launchpad.ethereum.org/en/erigon)** â€” (Ethereum, Gnosis)
- **[Geth â†—](https://launchpad.ethereum.org/en/geth)** â€” (Ethereum)
- **[Reth â†—](https://github.com/paradigmxyz/reth)** â€” (Ethereum)

:::custom-warning[Configure Erigon and Reth]
Preserve event logs to ensure the Operator Service functions correctly. Both clients require specific configuration to prevent event log pruning:

<Tabs groupId="special-config" defaultValue="erigon">
  <TabItem value="erigon" label="Erigon">
    ```bash
    # Ethereum Mainnet
    erigon --prune=receipts --prune.to=21471500

    # For other networks, adjust the block number to the Keeper contract creation block
    ```

  These flags prevent pruning of event logs required by the Operator Service.
  </TabItem>
  <TabItem value="reth" label="Reth">
    Add the following setting to your `reth.toml`:

    ```toml
    [prune.segments.receipts_log_filter.0x6b5815467da09daa7dc83db21c9239d98bb487b5]
    before = 21471500
    ```

    The [Keeper contract â†—](https://etherscan.io/address/0x6B5815467da09DaA7DC83Db21c9239D98Bb487b5#code) on Ethereum Mainnet is located at
    `0x6b5815467da09daa7dc83db21c9239d98bb487b5` (must be provided in lowercase).
  </TabItem>
</Tabs>

Alternatively, to save disk space, you can use the block number at which the protocol configuration was updated. The actual values are defined in the [network config â†—](https://github.com/stakewise/v3-operator/blob/master/src/config/networks.py) within the Operator sources. See the `CONFIG_UPDATE_EVENT_BLOCK` field for the selected network.
:::

## Consensus Client

Your consensus node must also be fully synced and running. Any client that supports the [ETH Beacon Node API specification â†—](https://ethereum.github.io/beacon-APIs/#/) can be used:

- **[Lighthouse â†—](https://launchpad.ethereum.org/en/lighthouse)** â€” (Ethereum, Gnosis)
- **[Nimbus â†—](https://launchpad.ethereum.org/en/nimbus)** â€” (Ethereum, Gnosis)
- **[Prysm â†—](https://launchpad.ethereum.org/en/prysm)** â€” (Ethereum)
- **[Teku â†—](https://launchpad.ethereum.org/en/teku)** â€” (Ethereum, Gnosis)
- **[Lodestar â†—](https://launchpad.ethereum.org/en/lodestar)** â€” (Ethereum, Gnosis)

:::custom-info[Validator Configuration]
Configure your validator clients with the correct **fee recipient address**. You can find this address (Block reward recipient) along with other essential Vault information in the **Details** section at the bottom of your Vault page in the StakeWise interface.
:::

## Deployed Vault

### Creating a New Vault

If you donâ€™t have a Vault yet, follow these steps:

:::custom-notes[Vault Deployment Process]
1. Visit the [StakeWise Operate page â†—](https://app.stakewise.io/operate) and connect your wallet
2. Click **Create Vault** to begin configuration
3. Follow the prompts to complete the setup
4. Once the Vault is deployed, navigate to its page
:::

You must have an active StakeWise Vault deployed and ready for operation.

:::custom-warning[Upgrade Vault Version]
Upgrade your Vault to the required version before running the Operator Service:

- **Ethereum**: Vault version 5
- **Gnosis**: Vault version 3

You must upgrade your Vault to the latest version by logging in as a Vault Admin and clicking "Upgrade" at the top of the Vault page.
:::



### Finding Your Vault Address

You will need the Vault contract address for Operator Service configuration:

:::custom-info[Where to Find Your Vault Address]
<Tabs groupId="vault-address-methods">
  <TabItem value="url" label="From URL" default>
    Navigate to your Vault page â€” the address is included in the URL:
    ```
    https://stakewise.io/vault/mainnet/0x1234567890abcdef...
                                       ^^^^^^^^^^^^^^^^^^^
                                        Your Vault Address
    ```
  </TabItem>
  <TabItem value="details" label="From Details Section">
    1. Go to your Vault page
    2. Scroll to the bottom to find the **"Details"** section
    3. Look for the **"Contract address"** field
    4. Copy the displayed address
  </TabItem>
</Tabs>
:::

ðŸŽ‰ Congratulations! Your infrastructure is now ready for the [Operator Service installation â†’](installation).
