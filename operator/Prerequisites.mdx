---
title: 2. Prerequisites
sidebar_position: 2
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import Admonition from '@theme/Admonition';
import useBaseUrl from '@docusaurus/useBaseUrl';

# Prerequisites

Before installing the Operator Service, you need to decide how to set up your node infrastructure.

:::custom-info[Two Setup Options]
**Option 1: Automated Node Setup (Recommended for Beginners)**
- Use the Operator Service's built-in commands to automatically install and manage Reth (execution) and Lighthouse (consensus) clients
- See [Automated Node Setup →](node-setup) for the simplified setup process
- Skip the manual client setup sections below

**Option 2: Manual Node Setup (Advanced)**
- Manually install and configure your preferred execution and consensus clients
- Provides more flexibility and control over client selection
- Continue reading below for manual setup requirements
:::

## Manual Node Setup Requirements

If you choose manual setup, ensure your node infrastructure meets the technical requirements below for reliable operation.

### Execution Client

Your execution node must be fully synced and running. Any client that supports the [ETH Execution API specification ↗](https://ethereum.github.io/execution-apis/api-documentation/) can be used:

- **[Nethermind ↗](https://launchpad.ethereum.org/en/nethermind)** — (Ethereum, Gnosis)
- **[Besu ↗](https://launchpad.ethereum.org/en/besu)** — (Ethereum)
- **[Erigon ↗](https://launchpad.ethereum.org/en/erigon)** — (Ethereum, Gnosis)
- **[Geth ↗](https://launchpad.ethereum.org/en/geth)** — (Ethereum)
- **[Reth ↗](https://github.com/paradigmxyz/reth)** — (Ethereum)

:::custom-warning[Configure execution client]
Preserve event logs to ensure the Operator Service functions correctly. 
Some clients require specific configuration to sync event logs and prevent event log pruning:

<Tabs groupId="special-config" defaultValue="erigon">
  <TabItem value="nethermind" label="Nethermind">
    Nethermind must be run in FastSync mode:
    ```bash
    nethermind --Sync.FastSync=true
    ```
    Avoid SnapSync mode as it skips historical event logs, keeping only recent ones.
  </TabItem>
  <TabItem value="erigon" label="Erigon">
    ```bash
    # Ethereum Mainnet
    erigon --prune=receipts --prune.to=21471500

    # For other networks, adjust the block number to the Keeper contract creation block
    ```

  These flags prevent pruning of event logs as required by the Operator Service.
  </TabItem>
  <TabItem value="reth" label="Reth">
    Add the following setting to your `reth.toml`:

    ```toml
    [prune.segments.receipts_log_filter.0x6b5815467da09daa7dc83db21c9239d98bb487b5]
    before = 21471500
    ```

    The [Keeper contract ↗](https://etherscan.io/address/0x6B5815467da09DaA7DC83Db21c9239D98Bb487b5#code) on Ethereum Mainnet is located at
    `0x6b5815467da09daa7dc83db21c9239d98bb487b5` (must be provided in lowercase).
  </TabItem>
</Tabs>

:::

### Consensus Client

Your consensus node must also be fully synced and running. Any client that supports the [ETH Beacon Node API specification ↗](https://ethereum.github.io/beacon-APIs/#/) can be used:

- **[Lighthouse ↗](https://launchpad.ethereum.org/en/lighthouse)** — (Ethereum, Gnosis)
- **[Nimbus ↗](https://launchpad.ethereum.org/en/nimbus)** — (Ethereum, Gnosis)
- **[Prysm ↗](https://launchpad.ethereum.org/en/prysm)** — (Ethereum)
- **[Teku ↗](https://launchpad.ethereum.org/en/teku)** — (Ethereum, Gnosis)
- **[Lodestar ↗](https://launchpad.ethereum.org/en/lodestar)** — (Ethereum, Gnosis)

:::custom-info[Validator Configuration]
Configure your validator clients with the correct **fee recipient address**. You can find this address (Block reward recipient) along with other essential Vault information in the **Details** section at the bottom of your Vault page in the StakeWise interface.
:::

## Deployed Vault

### Creating a New Vault

If you don’t have a Vault yet, follow these steps:

:::custom-notes[Vault Deployment Process]
1. Visit the [StakeWise Operate page ↗](https://app.stakewise.io/operate) and connect your wallet
2. Click **Create Vault** to begin configuration
3. Follow the prompts to complete the setup
4. Once the Vault is deployed, navigate to its page
:::

You must have an active StakeWise Vault deployed and ready for operation.

:::custom-warning[Vault Version Requirements]
The Operator Service requires:

- **Ethereum**: Vault version 5
- **Gnosis**: Vault version 3

**How to check your Vault version:**
You can find your Vault version in the **Details** section of your Vault page.

**How to upgrade:**
If your Vault is below the required version, log in as a Vault Admin and click "Upgrade" at the top of the Vault page.

**Using older Vault versions:**
If you have an older Vault and cannot upgrade, follow the documentation [here ↗](https://v3-docs.stakewise.io/for-operators/operator-service).
:::



### Finding Your Vault Address

You will need the Vault contract address for Operator Service configuration:

:::custom-info[Where to Find Your Vault Address]
<Tabs groupId="vault-address-methods">
  <TabItem value="url" label="From URL" default>
    Navigate to your Vault page — the address is included in the URL:
    ```
    https://stakewise.io/vault/mainnet/0x1234567890abcdef...
                                       ^^^^^^^^^^^^^^^^^^^
                                        Your Vault Address
    ```
  </TabItem>
  <TabItem value="details" label="From Details Section">
    1. Go to your Vault page
    2. Scroll to the bottom to find the **"Details"** section
    3. Look for the **"Contract address"** field
    4. Copy the displayed address
  </TabItem>
</Tabs>
:::

## Next Steps

Choose your path forward:
- **Automated Setup**: Proceed to [Automated Node Setup →](node-setup) to install and manage nodes automatically
- **Manual Setup**: If you've manually set up your execution and consensus clients, continue to [Operator Service Installation →](Installation)
