---
title: Consolidate Validators
sidebar_position: 4
---

# Consolidate Validators

The Operator Service supports consolidation of legacy `0x01` validators to `0x02` compound validators using the `consolidate` command, enabling variable validator balances up to 2048 ETH.
This reduces the validator count and infrastructure overhead by merging multiple 32 ETH validators into fewer, higher-balance validators.
The Operator Service uses a `check_vault_version` function to verify the Vault's version.

:::custom-warning[Validators Manager Required]
  The wallet executing this command must be set as the [Validators Manager â†’](../validators-manager) in the Vault settings. If the Validators Manager is set to the wallet address of the Relayer, you have to add the `--relayer-endpoint` parameter.
:::

You can either specify `--source-public-keys` (`0x01` validators) and `--target-public-key` (`0x02` validators) parameters to consolidate specific validators, or run without these parameters for automatic consolidation. By default, the following logic applies:

1. If there are no `0x02` validators, take the oldest `0x01` validator and convert it to `0x02` with confirmation prompt
2. If there is a `0x02` validator, take the oldest `0x01` validators to top up its balance to 2048 ETH / 64 GNO

```bash
# Automatic consolidation
./operator consolidate --vault=0x000...

# Manual consolidation with specific keys
./operator consolidate --vault=0x000... --source-public-keys=0x001,0x002 --target-public-key=0x003
```

## Usage Options

### Consolidate Specific Validators

```bash
./operator consolidate \
  --vault=0x000... \
  --source-public-keys=0x001,0x002 \
  --target-public-key=0x003
```

### Consolidate Using File

For managing multiple validators, use a file containing public keys:

```bash
./operator consolidate \
  --vault=0x000... \
  --source-public-keys-file=public_keys.txt \
  --target-public-key=0x003
```

### Convert `0x01` to `0x02` (Same Key)

To convert validators while keeping the same public key:

```bash
./operator consolidate \
  --vault=0x000... \
  --source-public-keys=0x001 \
  --target-public-key=0x001
```

<details className="custom-details">
<summary>Example Output</summary>

```bash
Enter the comma separated list of API endpoints for execution nodes: : https://execution-node
Enter the comma separated list of API endpoints for consensus nodes: https://consensus-node
Enter your vault address: 0x3320ad928c20187602a2b2c04eeaa813fa899468
Consolidating 2 validators:
    0x001 -> 0x003
    0x002 -> 0x003
Proceed consolidation? [Y/n]: y
Fetched signatures for validator consolidation: Received 11 out of 11 approvals
Submitting consolidate validators transaction
Waiting for transaction 0x00000... confirmation
Validators has been successfully consolidated
```
</details>

:::custom-warning[Important Notes]
The `--target-public-key` must be a compounding validator.
The consolidation process requires Oracle signatures, which are automatically fetched during the operation.
:::
